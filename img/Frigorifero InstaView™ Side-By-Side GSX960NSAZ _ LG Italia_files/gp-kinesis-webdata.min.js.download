/* 
 *******************************************************************************
 * CSR No.        DATE              AUTHOR             DESCRIPTION
 *******************************************************************************
 *PJTREGULATION-1 2020/05/29        Chowhiwon         규제대응 프로젝트
 *******************************************************************************
 * 
 * */
function kinesisPutWebData(){var e=getClassificationCode(),e={origin:document.getElementById("kinesisorigin").value,locale:document.getElementById("kinesislocale").value,requestedUrl:window.location.href,requestedDomain:window.location.host,status:kinesisGetStatusCode(),cookies:kinesisGetCookie(),requestedDate:kinesisRequestedDate(),utcRequestedDate:kinesisUtcRequestedDate(),buCode:getBuCode(),superCategory:getSuperCategory(),category:getCategory(),micrositeFlag:isMicroSite(),referrer:document.referrer,cmpid:kinesisGetCampaignId(),classficationLevel1:e.level1,classficationLevel2:e.level2,classficationLevel3:e.level3,templateFlag:isTemplate()},e={Data:JSON.stringify(e)+"\n",PartitionKey:"Kine-LGCOM",StreamName:"KDS-LGE-LEGALCHK-PROD-WEBUSE"};new AWS.Kinesis({region:"ap-northeast-2",accessKeyId:"AKIA3VZCBYUAU7UIMHR2",secretAccessKey:"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"}).putRecord(e,function(e,t){console.log("put result"),e?console.log(e,e.stack):console.log(t)})}function kinesisRequestedDate(){var e=new Date,t=e.getFullYear();return t+="-"+("0"+(e.getMonth()+1)).slice(-2),t+="-"+("0"+e.getDate()).slice(-2),t+=" "+("0"+e.getHours()).slice(-2),t+=":"+("0"+e.getMinutes()).slice(-2),t+=":"+("0"+e.getSeconds()).slice(-2),t+="."+("00"+e.getMilliseconds()).slice(-3)}function kinesisUtcRequestedDate(){var e=new Date,t=e.getUTCFullYear();return t+="-"+("0"+(e.getUTCMonth()+1)).slice(-2),t+="-"+("0"+e.getUTCDate()).slice(-2),t+=" "+("0"+e.getUTCHours()).slice(-2),t+=":"+("0"+e.getUTCMinutes()).slice(-2),t+=":"+("0"+e.getUTCSeconds()).slice(-2),t+="."+("00"+e.getUTCMilliseconds()).slice(-3)}function getBuCode(){var e="",t="",t="undefined"!=typeof standardData?(e=standardData.siteType.toLowerCase(),standardData.pageType.toLowerCase()):(e=window.location.href.split("/")[4].toLowerCase(),_dl.page_name.page_purpose.toLowerCase());return(void 0!==_dl.page_name.bu&&""!=_dl.page_name.bu?"compare"==t?"compare":_dl.page_name.bu:"b2b"==e?e:"cs"==t?"support":"home"==t?"home":"compare"==t?"compare":"").toUpperCase()}function getSuperCategory(){var e=_dl.page_name.super_category;return null!=e&&""!=e||(e=""),e.toUpperCase()}function getCategory(){var e=_dl.page_name.category;return null!=e&&""!=e||(e=""),e.toUpperCase()}function getClassificationCode(){var e=[];return"undefined"!=typeof standardData?(e.level1=standardData.level1,e.level2=standardData.level2,e.level3=standardData.level3):(e.level1="",e.level2="",e.level3=""),e}function isMicroSite(){var e=_dl.page_name.page_purpose;return isMicroSite=null!=e&&""!=e&&"microsite"==e?"Y":"N"}function isTemplate(){return isTemplate="N",0<$("body").find(".iw_placeholder").length&&(isTemplate="Y"),isTemplate}function kinesisGetCookie(){for(var e=document.cookie.split(";"),t=new StringBuffer,n=0;n<e.length;n++){var a=e[n].split("="),i=a[0].trim(),o=a[1].trim();1==/LGCOM_IMPROVEMENTS|LGCOM_SOCIAL_MEDIA|LGCOM_ANALYSIS_OF_SITE|LGCOM_ADVERTISING|eCookieOpenFlag/.test(a[0])?(t.append(i+"="+o+"; "),n==e.length-1&&t.append(i+"="+o)):(t.append(i+"; "),n==e.length-1&&t.append(i))}return t.toString()}document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),kinesisPutWebData()},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),kinesisPutWebData())});var StringBuffer=function(){this.buffer=new Array};function kinesisGetCampaignId(){for(var e="",t=[],n=(n=location.search.substr(location.search.indexOf("?")+1)).split("&"),a=0;a<n.length;a++){var i=n[a].split("=");if("cmpid"==i[0]){"?cmpid"==i[1]?t.push(i[i.length-1]):t.push(i[1]);break}}return void 0!==t[0]&&(e=t[0]),e}function kinesisGetStatusCode(){var e="";return void 0!==_dl.error_type&&(e=_dl.error_type.split(":")[0]),e}StringBuffer.prototype.append=function(e){this.buffer[this.buffer.length]=e},StringBuffer.prototype.toString=function(){return this.buffer.join("")},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};
//# sourceMappingURL=maps/gp-kinesis-webdata.min.js.map
