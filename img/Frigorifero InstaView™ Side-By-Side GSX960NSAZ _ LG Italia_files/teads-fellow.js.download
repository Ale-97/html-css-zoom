"use strict";!function(){const e={conversionType:"conversion_type"};function t(e){var t="",n=function(e){var t=e,n=!1;try{for(var i=0;t.parent.document!==t.document||i<50;i++){if(!t.parent.document){n=!0;break}t=t.parent}}catch(e){n=!0}return{topFrame:t,err:n}}(e),i=n.topFrame;if(n.err)try{t=i.top.location.href}catch(e){t=i.location.href}else t=i.location.href;return t}function n(e,n){try{var i={errorMessage:e,topUrl:t(window),userAgent:void 0!==window.navigator&&void 0!==window.navigator.userAgent?window.navigator.userAgent:"",exception:n||""};e=JSON.stringify(i)}catch(e){}document.createElement("img").src="https://l.teads.tv/performance/http-source?"+encodeURIComponent(e)}async function i(e,i,o){const r=s(),d=c(),a=await async function(){try{return!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime)&&((e=document.interestCohort)&&"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e))&&await document.interestCohort()||{}}catch(e){return n(" Unable to retrieve interest cohort data",e.message),{}}var e}(),u=document.createElement("img");u.width=0,u.height=0,u.alt="",u.style.position="absolute";const m=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(n+"="+encodeURIComponent(e[n]))})),t.join("&")}(i);let l=t(window);l=function(e){const t=["account","password","pass","secret","secretkey","secret","username","user","login","ordernumber","orderid","email","mail","user.email","user.password","user.name","user.email","user.mail","user.lastname","user.firstname","user.phone","user.phonenumber","lastname","firstname","name","address","phonenumber","phone","client_secret","guid"];let n=void 0;if(""!==e){const i=e.split("?").length>1?e.split("?")[1]:void 0;if(void 0!==i){let o=e.split("?")[0]+"?";const r=i.split("&");for(let e=0;e<r.length;e++){const i=r[e];-1!==i.indexOf("auctid=")&&(n=i.replace("auctid=",""));const d=i.split(/=(.+)/);o=o+(0==e?"":"&")+d[0]+"="+(t.indexOf(d[0])>=0?"XXXXXXXX":d[1])}e=o}}return{auctionId:n,sanitizedValue:e}}(l);let w=o+"?action="+e;m.length>0&&(w=w+"&"+m),void 0!==d?w=w+"&buyer_pixel_id="+encodeURIComponent(d):void 0!==r&&(w=w+"&advertiser_id="+encodeURIComponent(r)),a.id&&(w=w+"&cohort_id="+encodeURIComponent(a.id)),a.version&&(w=w+"&cohort_version="+encodeURIComponent(a.version)),w=w+"&referer="+encodeURIComponent(l.sanitizedValue),void 0!==l.auctionId&&l.auctionId.length>0&&(w=w+"&auctid="+l.auctionId),u.src=w,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode).insertBefore(u,null)}function o(t,i){var o={};return Object.keys(t).forEach((function(r){var d=r,a=t[r];e.hasOwnProperty(d)?o[e[d]]=a+(i||""):n("Invalid parameter specified in event: "+d)})),o}function r(e){return function(){setTimeout((function(){document&&document.hidden||i("timeSpent",o({}),"https://t.teads.tv/track")}),1e3*e)}}async function d(){if(void 0!==window.teads_e)for(;window.teads_e.length;){var e=window.teads_e.shift();await u(e)}else n("The event queue is not defined.")}async function a(){var e;w(),(e=document.createElement("meta")).httpEquiv="origin-trial",e.content="A/j6QtZ5QtlZcLGHuYBce5i3WFMXVvc89MjxJazvAJx/Vk5s4X8XcCtbAFmv8NFM084EjqJGNfn99gg0FUhvIgYAAAB6eyJvcmlnaW4iOiJodHRwczovL3RlYWRzLnR2OjQ0MyIsImZlYXR1cmUiOiJJbnRlcmVzdENvaG9ydEFQSSIsImV4cGlyeSI6MTYyNjIyMDc5OSwiaXNTdWJkb21haW4iOnRydWUsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=",document.head.appendChild(e);try{window.teads_disable_time_on_site_tracking||Object.defineProperty(window,"teads_disable_time_on_site_tracking",{set:function(e){this._teads_disable_time_on_site_tracking=e},get:function(){return this._teads_disable_time_on_site_tracking},configurable:!0}),window.teads_adv_id||Object.defineProperty(window,"teads_adv_id",{set:function(e){this._teads_adv_id=e,m()},get:function(){return this._teads_adv_id},configurable:!0}),window.teads_buyer_pixel_id||Object.defineProperty(window,"teads_buyer_pixel_id",{set:function(e){this._teads_buyer_pixel_id=e,m()},get:function(){return this._teads_buyer_pixel_id},configurable:!0})}catch(e){n("Error while binding advertiser and pixel ids",e.message)}var t=s(),i=c();"number"!=typeof t&&"number"!=typeof i||await m();var o=window.teads_e||[];window.teads_e=[],window.teads_e.push=function(){return Array.prototype.push.apply(this,arguments),d(),window.teads_e.length},window.teads_e.push.apply(window.teads_e,o)}function s(){return void 0!==window.teads&&void 0!==window.teads.advertiserId?"number"==typeof window.teads.advertiserId?window.teads.advertiserId:void n("The format of AdvertiserId is not valid."):void 0!==window.teads_cv&&void 0!==window.teads_cv.advertiserId?"number"==typeof window.teads_cv.advertiserId?window.teads_cv.advertiserId:void n("The format of AdvertiserId is not valid."):window.teads_adv_id}function c(){return window.teads_buyer_pixel_id}async function u(e){await i("conversion",o(e),"https://t.teads.tv/track"),l()&&await i("conversion",o(e),"https://cm.teads.tv/conversion")}async function m(){if(await i("pageView",{},"https://t.teads.tv/track"),l()&&await i("pageView",{},"https://cm.teads.tv/conversion"),!window.teads_disable_time_on_site_tracking)try{r(2)(),r(5)(),r(10)(),r(15)(),r(30)()}catch(e){n("Timeout error",e.message)}}function l(){return!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime)&&!!document.featurePolicy&&!!document.featurePolicy.features()&&document.featurePolicy.features().includes("conversion-measurement")}function w(){var e=document.createElement("meta");e.httpEquiv="origin-trial",e.content="A4/CUs7ChJ2GDuMW1t+K/d5myx9b6fOHxbrUvoolw/poORhTq3JhEqX3smVa4LjPUQInVYOBWLYwHpc5jgCNPQcAAAB+eyJvcmlnaW4iOiJodHRwczovL3RlYWRzLnR2OjQ0MyIsImZlYXR1cmUiOiJDb252ZXJzaW9uTWVhc3VyZW1lbnQiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9",document.head.appendChild(e)}async function p(e){try{"undefined"!=typeof window&&(e>0&&void 0===window.teads_cv?setTimeout(a,e):await a())}catch(e){n("Unhandled exception",e.message)}}p(200),"undefined"!=typeof module&&void 0!==module.exports&&(module.exports.tag=p,module.exports.getTopUrl=t,module.exports.setConversionMeasurementTrialToken=w)}();